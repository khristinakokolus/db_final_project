DROPING ALL TABLES:
-- drop table capture;
-- drop table escaped;
-- drop table released;
-- drop table fainted;
-- drop table incident_info;
-- drop table bed_status;
-- drop table bed;
-- drop table alcohol;
-- drop table officer;
-- drop table trailed;
-- drop table alcoholic;
-- drop table incident;


CREATE TABLE alcoholic (
  alcoholic_id SERIAL PRIMARY KEY,
  first_name VARCHAR(20) NOT NULL,
  last_name VARCHAR(20) NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO alcoholic(first_name, last_name, created_at, updated_at) VALUES
('Lucas', 'Smith', '2014-01-15 08:01:00', CURRENT_TIMESTAMP),
('Oliver', 'Taylor', '2014-04-24 17:25:44', CURRENT_TIMESTAMP),
('James', 'Martin', '2014-03-14 14:28:25', CURRENT_TIMESTAMP),
('Henry', 'Clark', '2014-03-16 02:27:03', CURRENT_TIMESTAMP),
('Michael', 'Walker', '2014-01-09 15:41:35', CURRENT_TIMESTAMP),
('Jack', 'Thompson', '2014-04-25 21:44:58', CURRENT_TIMESTAMP),
('Matthew', 'Brown', '2014-03-01 09:58:18', CURRENT_TIMESTAMP),
('David', 'Johnson', '2014-04-12 13:30:12', CURRENT_TIMESTAMP),
('Luke', 'Williams', '2014-04-08 10:05:47', CURRENT_TIMESTAMP),
('Leo', 'Jones', '2014-02-11 08:41:29', CURRENT_TIMESTAMP);
select * from alcoholic;
CREATE TABLE officer (
  officer_id SERIAL PRIMARY KEY,
  first_name VARCHAR(20) NOT NULL,
  last_name VARCHAR(20) NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO officer(first_name, last_name, created_at, updated_at) VALUES
('Adrian', 'Lopez', '2013-03-23 13:17:50', CURRENT_TIMESTAMP),
('Colton', 'Wilson', '2013-02-10 23:28:57', CURRENT_TIMESTAMP),
('Cameron', 'Moore', '2013-04-10 09:28:27', CURRENT_TIMESTAMP),
('Ezra', 'Lee', '2013-03-28 21:53:31', CURRENT_TIMESTAMP),
('Leonardo', 'White', '2013-01-02 06:47:39', CURRENT_TIMESTAMP),
('Adam', 'Harris', '2013-01-25 19:52:30', CURRENT_TIMESTAMP),
('Wesley', 'Clark', '2013-04-20 10:45:40', CURRENT_TIMESTAMP),
('Waylon', 'Lewis', '2013-04-20 10:47:50', CURRENT_TIMESTAMP),
('Bennett', 'Young', '2013-02-20 03:48:17', CURRENT_TIMESTAMP),
('George', 'Allen', '2013-02-28 09:51:23', CURRENT_TIMESTAMP);

CREATE INDEX officer_idx
ON officer(first_name, last_name);

CREATE TABLE alcohol (
  alco_id SERIAL PRIMARY KEY,
  title VARCHAR(20) UNIQUE NOT NULL,
  kind VARCHAR(20) NOT NULL,
  additional_info TEXT,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO alcohol(title, kind, created_at, updated_at) VALUES
('Grey Goose', 'vodka', '2012-01-20 19:09:59', CURRENT_TIMESTAMP),
('Ciroc', 'vodka', '2012-03-22 21:43:55', CURRENT_TIMESTAMP),
('Absolut', 'vodka', '2012-01-20 17:02:41', CURRENT_TIMESTAMP),
('Masseto', 'wine', '2012-02-22 03:27:38', CURRENT_TIMESTAMP),
('Zubrovka', 'vodka', '2012-01-26 20:50:47', CURRENT_TIMESTAMP),
('Crystal Head', 'vodka', '2012-04-07 00:58:38', CURRENT_TIMESTAMP),
('Svedka', 'vodka', '2012-01-20 01:04:01', CURRENT_TIMESTAMP),
('Lagunitas', 'beer', '2012-03-22 22:54:16', CURRENT_TIMESTAMP),
('Bertoux', 'brandy', '2012-03-06 19:44:01', CURRENT_TIMESTAMP),
('Patr√≥n Silver', 'tequila', '2012-03-15 20:54:01', CURRENT_TIMESTAMP);

CREATE INDEX alcohol_idx
ON alcohol(title, kind);

CREATE TABLE bed (
  bed_id SERIAL PRIMARY KEY,
  bed_type VARCHAR(20),
  aditional_info TEXT,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

INSERT INTO bed(bed_type, created_at, updated_at) VALUES
('single','2011-04-03 09:13:38', CURRENT_TIMESTAMP),
('bunk', '2011-01-28 11:52:40', CURRENT_TIMESTAMP),
('single','2011-03-11 18:30:46', CURRENT_TIMESTAMP),
('bunk', '2011-03-10 09:48:34', CURRENT_TIMESTAMP),
('single','2011-03-08 22:57:37', CURRENT_TIMESTAMP),
('bunk', '2011-04-08 21:34:05', CURRENT_TIMESTAMP),
('bunk', '2011-01-20 09:40:32', CURRENT_TIMESTAMP),
('single','2011-02-07 10:54:39', CURRENT_TIMESTAMP),
('bunk', '2011-03-12 08:36:32', CURRENT_TIMESTAMP),
('single','2011-02-14 18:54:52', CURRENT_TIMESTAMP);

CREATE TABLE incident (
  incident_id SERIAL PRIMARY KEY,
  additional_info TEXT,
  created_at TIMESTAMP,
  updated_at TIMESTAMP
);

CREATE TABLE incident_info (
  incident_info_id SERIAL PRIMARY KEY,
  alco_id INT,
  incident_id INT,
  drank_at DATE NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(alco_id) REFERENCES alcohol(alco_id),
  FOREIGN KEY(incident_id) REFERENCES incident(incident_id)
);

CREATE TABLE capture (
  capture_id SERIAL PRIMARY KEY,
  officer_id INT,
  alcoholic_id INT,
  bed_id INT,
  caught_at DATE NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id),
  FOREIGN KEY(officer_id) REFERENCES officer(officer_id),
  FOREIGN KEY(bed_id) REFERENCES bed(bed_id)
);

CREATE TABLE trailed (
  trailed_id SERIAL PRIMARY KEY,
  incident_id INT,
  alcoholic_id INT,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(incident_id) REFERENCES incident(incident_id),
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id)
);

CREATE TABLE fainted (
  fainted_id SERIAL PRIMARY KEY,
  alcoholic_id INT,
  happened_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id)
);

INSERT INTO fainted(alcoholic_id, happened_at, created_at, updated_at) VALUES
(5,'2014-01-10 03:41:14', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1,'2014-01-16 04:20:00', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1,'2014-01-17 01:15:27', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1,'2014-01-17 04:20:00', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(10,'2014-02-12 03:41:29', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3,'2014-03-15 08:28:01', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3,'2014-03-16 11:13:05', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(4,'2014-03-17 04:20:00', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(9,'2014-04-09 07:02:12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(8,'2014-04-13 04:30:12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

CREATE TABLE bed_status (
  bed_staus_id SERIAL PRIMARY KEY,
  bed_id INT,
  alcoholic_id INT,
  officer_id INT,
  stay_start TIMESTAMP NOT NULL,
  stay_end TIMESTAMP,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(bed_id) REFERENCES bed(bed_id),
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id),
  FOREIGN KEY(officer_id) REFERENCES officer(officer_id)
);

INSERT INTO bed_status(bed_id, alcoholic_id, officer_id, stay_start, stay_end, created_at, updated_at) VALUES
(1, 1, 5, '2014-01-15 08:01:00', '2014-02-01 08:00:00', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 2, 1, '2014-04-24 17:25:44', '2014-08-11 00:12:58', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 3, 6, '2014-03-14 14:28:25', '2014-08-25 18:01:25', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(4, 4, 7, '2014-03-16 02:27:03', '2014-03-20 02:27:03', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 4, 7, '2014-03-20 02:27:03', NULL, CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(5, 5, 4, '2014-01-09 15:41:35', '2014-06-28 04:26:57', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(6, 6, 3, '2014-04-25 21:44:58', '2014-06-09 13:45:15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(7, 7, 6, '2014-03-01 09:58:18', '2014-06-07 02:12:19', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(8, 8, 10, '2014-04-12 13:30:12', '2014-05-01 14:18:49', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(9, 9, 2, '2014-04-08 10:05:47', '2014-07-24 06:31:19', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(10 ,10, 9, '2014-02-11 08:41:29', '2014-06-27 01:01:03', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 1, 5, '2014-10-11 20:55:43', '2014-12-23 22:15:34', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(9, 2, 1, '2014-10-09 22:36:41', '2014-12-16 12:06:15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(7, 3, 8, '2014-09-17 13:56:20', '2014-11-15 01:35:45', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(4, 4, 2, '2014-10-21 00:00:23', '2014-11-14 17:31:12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 5, 4, '2014-09-05 19:43:37', '2014-11-24 01:31:54', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(6, 6, 6, '2014-10-21 05:01:27', '2014-11-05 00:45:04', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(5, 7, 3, '2014-09-26 09:39:12', '2014-11-25 10:49:59', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(8, 8, 9, '2014-10-18 03:35:45', '2014-12-20 12:38:51', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(10, 9, 7, '2014-09-24 06:03:41', '2014-11-07 05:28:37', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3 ,10, 10, '2014-09-24 06:03:41', '2014-11-18 10:30:37', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

CREATE TABLE released (
  released_id SERIAL PRIMARY KEY,
  bed_id INT,
  alcoholic_id INT,
  officer_id INT,
  happened_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(bed_id) REFERENCES bed(bed_id),
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id),
  FOREIGN KEY(officer_id) REFERENCES officer(officer_id)
);

INSERT INTO released(bed_id, alcoholic_id, officer_id, happened_at, created_at, updated_at) VALUES
(1, 1, 5, '2014-02-01 08:00:00', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 2, 1, '2014-08-11 00:12:58', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3, 3, 6, '2014-08-25 18:01:25', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(5, 5, 4, '2014-06-28 04:26:57', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(6, 6, 3, '2014-06-09 13:45:15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(7, 7, 6, '2014-06-07 02:12:19', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(8, 8, 10, '2014-05-01 14:18:49', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(9, 9, 2, '2014-07-24 06:31:19', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

CREATE TABLE escaped (
  escaped_id SERIAL PRIMARY KEY,
  bed_id INT,
  alcoholic_id INT,
  happened_at TIMESTAMP NOT NULL,
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  FOREIGN KEY(bed_id) REFERENCES bed(bed_id),
  FOREIGN KEY(alcoholic_id) REFERENCES alcoholic(alcoholic_id)	
);

INSERT INTO escaped(bed_id, alcoholic_id, happened_at, created_at, updated_at) VALUES
(10, 10, '2014-06-27 01:01:03', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(2, 1, '2014-12-23 22:15:34', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(9, 2, '2014-12-16 12:06:15', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(7, 3, '2014-11-15 01:35:45', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(4, 4, '2014-11-14 17:31:12', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(1, 5, '2014-11-24 01:31:54', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(6, 6, '2014-11-05 00:45:04', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(5, 7, '2014-11-25 10:49:59', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(8, 8, '2014-12-20 12:38:51', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(10, 9, '2014-11-07 05:28:37', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),
(3 ,10, '2014-11-18 10:30:37', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);
